# üß™ Run Pre-loaded Sample Apps

### üéØ Developer Goal
- Get a **quick out-of-the-box experience** with various use cases and device capabilities  
- Run **non-containerized sample applications** using the **Qualcomm Intelligent Multimedia Product (QIMP) SDK** on Ubuntu  
---

### üë§ Persona
- AI-curious developer or application engineer exploring multimedia capabilities
---

### ‚úÖ Pre-requisites
#### On Target
- **Ubuntu OS** (version as specified in the documentation)
- **QIMP SDK** installed on your Ubuntu system
- **Terminal access** with appropriate permissions
- **Required dependencies** installed (refer to the documentation)
- **Sample applications** pre-loaded during SDK installation
---

> üí° **Tip:** Make sure your system meets all the prerequisites before launching the sample apps. This ensures a smooth and frustration-free experience.

### Step-by-Step instructions

### üõ†Ô∏è Step 1: Download and Run the Script

This script will automatically fetch all required assets for the sample applications, including:
- Models  
- Config files  
- Labels  
- Media files  

#### üì¶ Script Details
```shell
cd /home/ubuntu 
curl -L -O https://raw.githubusercontent.com/quic/sample-apps-for-qualcomm-linux/refs/heads/main/download_artifacts.sh
chmod +x download_artifacts.sh 
sudo -i 
cd /home/ubuntu 
./download_artifacts.sh -v GA1.4-rel -c QCS6490
```
---
#### üìò Explanation

- The `download_artifacts.sh` script **automates** the download of all necessary assets for the sample applications.
- Use the `-v` flag to define the **version** you want to work with (e.g., GA1.4-rel).
- Use the `-c` flag to define the **chipset** your device is using.(e.g., QCS6490).

> üí° **Tip:** Make sure your terminal has the right permissions and your environment matches the SDK documentation before running the script.

### üßæ Step 2: Verify Model and Label Files  
Before launching any sample applications, make sure the required files are in place.
#### ‚úÖ Check the following directories:
- **Model files** ‚Üí `/etc/models/`
- **Label files** ‚Üí `/etc/labels/`
> üìå **Note:** These files are essential for AI and multimedia apps to function correctly. If they‚Äôre missing, re-run the artifact download script or check your SDK installation.  
---

### ‚öôÔ∏è Step 3: Set Up Environment Variables (if required)
Some sample applications need specific environment variables for proper display and runtime behavior.
```shell
export XDG_RUNTIME_DIR=/dev/socket/weston 
export WAYLAND_DISPLAY=wayland-1
```
> üí° **Tip:** These variables often control display settings, hardware acceleration, or runtime paths. Setting them correctly ensures smooth execution.

### üìÇ Step 4: Navigate to Sample Application Directory

To launch a sample application, first navigate to its directory.
- `/opt/`
- `/home/ubuntu/sample-apps/`

Once you're in the correct folder, **launch the desired app** using the terminal.
```shell 
cd <QIMP_SDK_INSTALL_PATH>/samples/
```
> üí° **Tip:** Use `ls` to list available apps and `./<app_name>` to run them.
---

### üßæ Step 5: Prepare the JSON Config File

To run certain sample applications, you‚Äôll need a properly configured JSON file.

#### üîç What to Do
- Locate or create the required JSON config file (e.g., `aic_batch_io.json`) based on your **model** and **input requirements**.
- Edit the file at `/etc/configs/config_classification.json` to match your use case:
  - üì∑ Camera input
  - üìÅ File input
  - üåê RTSP stream
  - ‚öôÔ∏è Runtime options

#### Example Structure
Place your JSON file in an **accessible directory** so the application can read it during launch.
```shell
{ 
"inputs": [
 		{"name": "input_1", "file": "input1.bin"}, 
		{"name": "input_2", "file": "input2.bin"} 
         ] 
}
```
 	> üìå **Note:** Why is the JSON config step needed?  
	Many QIMP SDK sample applications (especially those using QNN/AIC backend) require a JSON configuration file to specify model parameters, input/output files, and runtime options.  
	Refer to the [**SDK documentation**](https://docs.qualcomm.com/bundle/publicresource/topics/80-70020-50/example-applications.html) for sample JSON templates and detailed parameter descriptions.  
--

### üß† Step 6: Run the Sample Application with JSON Config
Use the terminal to launch your sample application with the JSON configuration file.
```bash
./ai_classification_sample --aic-batch-json-input <path_to_json_config>
```
### üìä Step 7: Review Output
Once the application runs, observe the results:  
Terminal Output: Classification results will be printed directly in the terminal.  
Output Files: If configured, results may also be saved to output files as specified in your JSON config.

#### Related workflows to link:
[Qualcomm Intelligent Multimedia SDK (IM SDK) Reference](https://docs.qualcomm.com/bundle/publicresource/topics/80-70020-50/example-applications.html)  
[QIMP SDK: AI Classification Sample Application (Ubuntu)](https://docs.qualcomm.com/bundle/publicresource/topics/80-70020-50/gst-ai-classification.html?product=1601111740057201&facet=Qualcomm%20Intelligent%20Multimedia%20Product%20(QIMP)%20SDK)

---
<details>
<summary>üìÅ Additional Information</summary>
#### Developer guidance (Tips and best practices):  
‚Ä¢	If you see GBM errors: echo 0 > /var/cache/display/gbm_dbg_cfg.txt  
‚Ä¢	Press CTRL + C in the shell to stop any running sample app.  
‚Ä¢	If the display fails, double-check environment variables and HDMI connection.  
‚Ä¢	Ensure model and label files are present and paths are correct.  
‚Ä¢	If you encounter display errors, ensure Wayland service is running, and environment variables are set.  
‚Ä¢	For permission issues, remount the root partition as read/write mount -o remount,rw /  
‚Ä¢	For help options gst-ai-classification ‚Äìhelp  

#### Example Error Messages & Fixes:
‚Ä¢	‚ÄúInvalid model file path‚Äù: Download and place the correct model file in /etc/models/.  
‚Ä¢	‚ÄúCould not unlink (errno=30)‚Äù: Remount /usr as read-write.  
‚Ä¢	‚ÄúNo such file or directory‚Äù: Verify installation and file paths.  
‚Ä¢	‚ÄúExecution stuck at gst_deinit‚Äù: Ensure all required files are present and correct.  

#### Performance guidance:
‚Ä¢	Use optimized models for your hardware (LiteRT, SNPE, QNN).  
‚Ä¢	Monitor CPU/GPU/HTP utilization during inference.  
‚Ä¢	For best results, use batch inference and quantized models where supported.  
‚Ä¢	Refer to the SDK documentation for recommended pipeline configurations and troubleshooting tips.  
</details>


### üìã  Sample Application ‚Äì Available OOB 
##### Input ‚Äì File , Output - Display

| Sample App Name           | Run On             | Details   | AI Hub Model (Default)         | Precision     | Runtime | Script to Use   |
|---------------------------|--------------------|-----------|--------------------------------|---------------|---------|-----------------|
| gst-ai-classification     | Ubuntu Server only | [Doc Link](https://docs.qualcomm.com/bundle/publicresource/topics/80-70020-50/gst-ai-classification.html?product=1601111740057201&facet=Qualcomm%20Intelligent%20Multimedia%20Product%20(QIMP)%20SDK)  | Inception_v3                   | Quant model   | TFLite  | JSON script     |
| gst-ai-pose-detection     | Ubuntu Server only | [Doc Link](https://docs.qualcomm.com/bundle/publicresource/topics/80-70020-50/gst-ai-pose-detection.html?product=1601111740057201&facet=Qualcomm%20Intelligent%20Multimedia%20Product%20(QIMP)%20SDK)  | hrnet_pose                     | Quant model   | TFLite  | JSON script     |
| gst-ai-segmentation       | Ubuntu Server only | [Doc Link](https://docs.qualcomm.com/bundle/publicresource/topics/80-70020-50/gst-ai-segmentation.html?product=1601111740057201&facet=Qualcomm%20Intelligent%20Multimedia%20Product%20(QIMP)%20SDK)  | Deeplabv3_plus_mobilenet       | Quant model   | TFLite  | JSON script     |
| gst-ai-monodepth          | Ubuntu Server only | [Doc Link](https://docs.qualcomm.com/bundle/publicresource/topics/80-70020-50/mono-depth-from-video.html?product=1601111740057201&facet=Qualcomm%20Intelligent%20Multimedia%20Product%20(QIMP)%20SDK) | midas                          | Quant model   | TFLite  | JSON script     |
| gst-ai-superresolution    | Ubuntu Server only | [Doc Link](https://docs.qualcomm.com/bundle/publicresource/topics/80-70020-50/video-super-resolution.html?product=1601111740057201&facet=Qualcomm%20Intelligent%20Multimedia%20Product%20(QIMP)%20SDK) | quicksrnetsmall               | Quant model   | TFLite  | Command line    |
| gst-ai-face-detection     | Ubuntu Server only | [Doc Link](https://docs.qualcomm.com/bundle/publicresource/topics/80-70020-50/gst-ai-face-detection.html?product=1601111740057201&facet=Qualcomm%20Intelligent%20Multimedia%20Product%20(QIMP)%20SDK) | face_det_lite                  | Quant model   | TFLite  | JSON script     |
